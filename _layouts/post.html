---
layout: page
---

{% if page.image and page.headerImage %}
    <img class="title-image" src="{{ page.image }}" alt="{{ page.title }}">
{% endif %}

<h1 class="title">{{ page.title }}</h1>

<span class="date">
    <time datetime="{{ page.date | date:"%d-%m-%Y" }}">{{ page.date | date: "%A. %B %d, %Y" }}</time>
    {% if site.read-time %} - {% include read-time.html %}{% endif %}
</span>

{% if site.show-tags %}
    <div class="post-tags">
        {% for tag in page.tags %}
            <a class="item" href="{{ site.url }}/tags/#{{ tag | slugify }}">{{ tag }}</a>
        {% endfor %}
    </div>
{% endif %}

<article class="post-article">
    <div class="toc">
      <a href="#">&lt;맨 위로&gt;</a>
      {% include toc.html html=content %}
    </div>
    {{ content }}
</article>

<!--{% if site.post-advance-links contains page.category %}
    <div class="blog-navigation">
        {% if page.previous.hidden == false and page.previous.url %}
            <a class="prev" href="{{ site.url }}{{ page.previous.url }}">&laquo; {{ page.previous.title }}</a>
        {% else %}
            <a class="prev"></a>
        {% endif %}
        {% if page.next.hidden == false and page.next.url %}
            <a class="next" href="{{ site.url }}{{ page.next.url }}">{{ page.next.title }} &raquo;</a>
        {% endif %}
    </div>
{% endif %}-->

{% if site.show-author %}
    {% include author.html %}
{% endif %}

<script>
    function getTOCNodes(master) {
      var nodes = Array.prototype.slice.call(master.getElementsByTagName("*"), 0);
      var tocNodes = nodes.filter(function(elem) {
          return elem.tagName == "A";
      });
      return tocNodes;
    }
    function getHeaderNodes(master) {
      var nodes = Array.prototype.slice.call(master.getElementsByTagName("*"), 0);
      var headerNodes = nodes.filter(function(elem) {
          return elem.tagName == "H1" || elem.tagName == "H2" || elem.tagName == "H3" || elem.tagName == "H4" || elem.tagName == "H5" || elem.tagName == "H6";
      });
      return headerNodes;
    }
  
    var title = document.getElementsByClassName("title")[0];
    var titleY = window.pageYOffset + title.getBoundingClientRect().top;
    
    var article = document.getElementsByClassName("page-article")[0];
    var articleY = window.pageYOffset + article.getBoundingClientRect().top;
  
    var toc = document.getElementsByClassName("toc")[0];
  
    var headerNodes = getHeaderNodes(article);
    var tocNodes = getTOCNodes(toc);
  
    var before = undefined;
  
    document.addEventListener('scroll', function(e) {
      if (window.scrollY >= articleY-60) {
        toc.style.cssText = "position: fixed; top: 60px;";
      }
      else {
        toc.style.cssText = "";
      }
  
      var current = headerNodes.filter(function(header) {
        var headerY = window.pageYOffset + header.getBoundingClientRect().top;
        return window.scrollY >= headerY - 60;
      });
  
      if (current.length > 0) {
        current = current[current.length-1];
  
        var currentA = tocNodes.filter(function(tocNode) {
          return tocNode.innerHTML == current.innerHTML;
        })
        
        currentA = currentA[0];
        if (currentA) {
          if (before == undefined) before = currentA;
  
          if (before != currentA) {
            before.classList.remove("toc-active");
            before = currentA;
          }
  
          currentA.classList.add("toc-active");
        }
        else {
          if (before) 
            before.classList.remove("toc-active");
        }
      }
      else {
        if (before) 
            before.classList.remove("toc-active");
      }
  
    }, false);
  </script>